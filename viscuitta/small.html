
<script type="text/javascript">
var g_angle = Math.PI/6;
var g_ac = Math.cos(g_angle);
var g_as = Math.sin(g_angle);
var g_ac1 = Math.cos(g_angle*2);
var g_as1 = Math.sin(g_angle*2);
var g_ac2 = Math.cos(g_angle*3);
var g_as2 = Math.sin(g_angle*3);
var g_scale = 1/(2*Math.cos(g_angle/2));
var g_unit = 180/6;
var g_len = 320;

var g_main = 2;
var g_a = [1/2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1];
//
var g_a1 = [1/2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var g_b1 = [-1/2, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0];
var g_c1 = [-3/2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1];

var g_d1 = [1/2, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1];
var g_e1 = [-1/2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

var g_f1 = [1/2+3, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1];

// 
var g_a2 = [-1/2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var g_b2 = [5/2, 0, 0, 0, 0, 0, -1, 0, -1, 0, 0, 0, -1];

var g_c2 = [-1/2-3, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1];
var g_d2 = [1/2+3, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1];


</script>
<script type="text/javascript" src="./vispos2.js">{
        "id": "xxx",
        "stage": {
            "width": 2000,
            "height":2000
        },
        "iteration": {
            "dt": 1000,
            "scaleLimit": 0.001,
            "stepLimit": 10,
            "objectLimit": 60000,            
            "shapeCount": true
        },
        "polygons": [
            `<g class='r0'>
            <polygon  opacity="0.3"  points='0 0, ${g_len/2} 0, ${g_len*4/5} ${g_len/4}, ${g_len*2/3} 0, ${g_len} 0, ${g_len*(1+g_ac)} ${g_len*g_as},${g_len*g_ac} ${g_len*g_as}' stroke='#0000ff'></polygon>
            <polygon  opacity="0" stroke-width="10" opacity="1" fill="#ffffff"  points='0 0, ${g_len} 0, ${g_len*(1+g_ac)} ${g_len*g_as},${g_len*g_ac} ${g_len*g_as}' stroke='#00165f'></polygon>
            <polygon opacity="0" fill="#00165f" points='${(0+g_len)/2} ${(0+0)/2},${(g_len+g_len*(1+g_ac))/2} ${(0+g_len*g_as)/2},${(g_len*(1+g_ac)+g_len*g_ac)/2} ${(g_len*g_as+g_len*g_as)/2},${(g_len*g_ac+0)/2} ${(g_len*g_as+0)/2}' stroke='#00165f'></polygon>
            </g>`
            ,
            `<g class='r1'>
            <polygon  opacity="0.3"  points='0 0, ${g_len/2} 0, ${g_len*4/5} ${g_len/4}, ${g_len*2/3} 0, ${g_len} 0, ${g_len*(1+g_ac1)} ${g_len*g_as1},${g_len*g_ac1} ${g_len*g_as1}' stroke='#0000ff'></polygon>
            <polygon  opacity="0" stroke-width="10" opacity="1" fill="#ffffff"  points='0 0, ${g_len} 0, ${g_len*(1+g_ac1)} ${g_len*g_as1},${g_len*g_ac1} ${g_len*g_as1}' stroke='#00165f'></polygon>
            <polygon opacity="0" fill="#00165f" points='${(0+g_len)/2} ${(0+0)/2},${(g_len+g_len*(1+g_ac1))/2} ${(0+g_len*g_as1)/2},${(g_len*(1+g_ac1)+g_len*g_ac1)/2} ${(g_len*g_as1+g_len*g_as1)/2},${(g_len*g_ac1+0)/2} ${(g_len*g_as1+0)/2}' stroke='#00165f'></polygon>
            </g>`
            ,
            `<g class='r2'>
            <polygon  opacity="0.3"  points='0 0, ${g_len/2} 0, ${g_len*4/5} ${g_len/4}, ${g_len*2/3} 0, ${g_len} 0, ${g_len*(1+g_ac2)} ${g_len*g_as2},${g_len*g_ac2} ${g_len*g_as2}' stroke='#0000ff'></polygon>
            <polygon opacity="0"  stroke-width="10" opacity="1" fill="#ffffff"  points='0 0, ${g_len} 0, ${g_len*(1+g_ac2)} ${g_len*g_as2},${g_len*g_ac2} ${g_len*g_as2}' stroke='#00165f'></polygon>
            <polygon opacity="0" fill="#00165f" points='${(0+g_len)/2} ${(0+0)/2},${(g_len+g_len*(1+g_ac2))/2} ${(0+g_len*g_as2)/2},${(g_len*(1+g_ac2)+g_len*g_ac2)/2} ${(g_len*g_as2+g_len*g_as2)/2},${(g_len*g_ac2+0)/2} ${(g_len*g_as2+0)/2}' stroke='#00165f'></polygon>
            </g>`
            ,
        ],
        "rules": [
            { 
                "pattern":[
                    ".r0"
                ],
                "next":[
                    {
                        "polygon": 1,
                        "dx": g_A[0],
                        "dy": g_A[1],
                        "dr": g_a[0]*g_unit,
                        "ds": g_scale      
                    }
                ]  
            },
            { 
                "pattern":[
                    ".r1"
                ],
                "next":[
                    {
                        "polygon": 0,
                        "dx": g_A1[0],
                        "dy": g_A1[1],
                        "dr": g_a1[0]*g_unit,
                        "ds": g_scale      
                    },
                    {
                        "polygon": 0,
                        "dx": g_B1[0],
                        "dy": g_B1[1],                    
                        "dr": g_b1[0]*g_unit,
                        "ds": g_scale          
                    },
                    {
                        "polygon": 0,
                        "dx": g_C1[0],
                        "dy": g_C1[1],                      
                        "dr": g_c1[0]*g_unit,
                        "ds": g_scale        
                    },
                    {
                        "polygon": 1,
                        "dx": g_D1[0],
                        "dy": g_D1[1],
                        "dr": g_d1[0]*g_unit,
                        "ds": g_scale      
                    },
                    {
                        "polygon": 1,
                        "dx": g_E1[0],
                        "dy": g_E1[1],                    
                        "dr": g_e1[0]*g_unit,
                        "ds": g_scale          
                    },
                    {
                        "polygon": 2,
                        "dx": g_F1[0],
                        "dy": g_F1[1],                      
                        "dr": g_f1[0]*g_unit,
                        "ds": g_scale        
                    }
                ]  
            },
            { 
                "pattern":[
                    ".r2"
                ],
                "next":[
                    {
                        "polygon": 1,
                        "dx": g_A2[0],
                        "dy": g_A2[1],
                        "dr": g_a2[0]*g_unit,
                        "ds": g_scale      
                    },
                    {
                        "polygon": 1,
                        "dx": g_B2[0],
                        "dy": g_B2[1],                    
                        "dr": g_b2[0]*g_unit,
                        "ds": g_scale          
                    },
                    {
                        "polygon": 2,
                        "dx": g_C2[0],
                        "dy": g_C2[1],                      
                        "dr": g_c2[0]*g_unit,
                        "ds": g_scale        
                    },
                    {
                        "polygon": 2,
                        "dx": g_D2[0],
                        "dy": g_D2[1],
                        "dr": g_d2[0]*g_unit,
                        "ds": g_scale      
                    }
                ]  
            }
        ]
    }</script>